<!DOCTYPE html>
<html lang="en">
    <head>
    </head>
    <body>
        <div id="container">
            <input id="code" type="text" placeholder="code" />
            <button id="getToken">Get Token</button>
            <p id="result"></p>
        </div>

        <div id="container refresh">
            <input id="refreshCode" type="text" placeholder="refresh token">
            <button id="refreshToken">Refresh Token</button>
            <p id="refreshResult"></p>
        </div>

        <script type="text/javascript">

        const getTokenElement = document.getElementById('getToken');
        const getAccessTokenElement = document.getElementById('getNewAccessToken');
        getTokenElement.onclick = function() {
            const codeElement = document.getElementById('code');
            const resultElement = document.getElementById('result');
            const codeValue =  codeElement.value;

            // Replace this by your function endpoint
            const lambdaURL = 'https://qdagcof6xk.execute-api.us-east-2.amazonaws.com/dev/api/token/' + codeValue;

            fetch(lambdaURL)
                .then(function(response) {
                    return response.json();
            })
            .then(function(json) {
                resultElement.innerText = JSON.stringify(json);
            });
        }
        getAccessTokenElement.onclick = function() {
            const codeElement = document.getElementById('refresh_token');
            const resultElement = document.getElementById('resultNew');
            const codeValue =  codeElement.value;

            // Replace this by your function endpoint
            const lambdaURL = 'https://qdagcof6xk.execute-api.us-east-2.amazonaws.com/dev/api/refresh/' + codeValue;

            fetch(lambdaURL)
            .then(function(response) {
                return response.json();
            })
            .then(function(json) {
                resultElement.innerText = JSON.stringify(json);
            });
        }
    
          </script>
    </body>
</html>
